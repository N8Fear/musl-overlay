diff -ur a/sandbox-2.6/libsandbox/trace.c b/sandbox-2.6/libsandbox/trace.c
--- a/sandbox-2.6/libsandbox/trace.c
+++ b/sandbox-2.6/libsandbox/trace.c
@@ -9,7 +9,7 @@
 #include "wrappers.h"
 #include "sb_nr.h"
 
-static long _do_ptrace(enum __ptrace_request request, const char *srequest, void *addr, void *data);
+static long _do_ptrace(int request, const char *srequest, void *addr, void *data);
 #define do_ptrace(request, addr, data) _do_ptrace(request, #request, addr, data)
 #define _trace_possible(data) true
 
@@ -43,7 +43,7 @@
 	_exit(status);
 }
 
-static long _do_ptrace(enum __ptrace_request request, const char *srequest, void *addr, void *data)
+static long _do_ptrace(int request, const char *srequest, void *addr, void *data)
 {
 	long ret;
  try_again:
diff -ur a/sandbox-2.6/scripts/gen_symbol_header.awk b/sandbox-2.6/scripts/gen_symbol_header.awk
--- a/sandbox-2.6/scripts/gen_symbol_header.awk
+++ b/sandbox-2.6/scripts/gen_symbol_header.awk
@@ -161,7 +161,7 @@
 				else
 					printf("symbol_version(%s, %s, %s);\n",
 					       sym_real_name, sym_index, symbol_array[2]);
-			} else {
+			} else if (!(sym_index ~ 64)) {
 				# For non-versioned libc's we use strong aliases
 				printf("strong_alias(%s, %s);\n", sym_real_name,
 				       sym_index);
